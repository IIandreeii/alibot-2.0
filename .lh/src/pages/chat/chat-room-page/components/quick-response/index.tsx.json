{
    "sourceFile": "src/pages/chat/chat-room-page/components/quick-response/index.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1740156219427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740156229410,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import { useEffect, useState } from \"react\";\n import { ModalContainer, ListItem, CloseButton, ModalBackground, Tabs, Tab, TabContent, List, SearchInput } from \"./styles\";\n-import { useTemplate } from \"../../../../services/template/template.service\";\n-import Icon from \"common/components/icons\";\n+import { useTemplate } from \"../../../../../services/template/template.service\";\n+import Icon from \"../../../../../common/components/icons\";\n \n const QuickResponseModal = ({ onClose, onSend, isOpen, phoneNumber }) => {\n   const { getRespuestaRapidaByPhoneNumber, getResponse, getTemplateByPni } = useTemplate();\n   const [activeTab, setActiveTab] = useState('tab1')\n"
                }
            ],
            "date": 1740156219427,
            "name": "Commit-0",
            "content": "import { useEffect, useState } from \"react\";\nimport { ModalContainer, ListItem, CloseButton, ModalBackground, Tabs, Tab, TabContent, List, SearchInput } from \"./styles\";\nimport { useTemplate } from \"../../../../services/template/template.service\";\nimport Icon from \"common/components/icons\";\n\nconst QuickResponseModal = ({ onClose, onSend, isOpen, phoneNumber }) => {\n  const { getRespuestaRapidaByPhoneNumber, getResponse, getTemplateByPni } = useTemplate();\n  const [activeTab, setActiveTab] = useState('tab1')\n  const [searchTerm, setSearchTerm] = useState('')\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  useEffect(() => {\n\n    setSearchTerm('')\n\n    if (activeTab === 'tab1') {\n      getRespuestaRapidaByPhoneNumber(phoneNumber)\n    } else {\n      getTemplateByPni(phoneNumber)\n    }\n    \n  }, [activeTab])\n\n  const handleSelectItemQuick = (item) => {\n    onSend('text', item.keyword)\n  }\n\n  const handleSelectItemTemplate = (item) => {\n    onSend('template', item.name)\n  }\n\n  const filteredItems = getResponse.filter(item =>\n    item.keyword && item.keyword.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    item.name && item.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  \n  return (\n    <div>  \n      {isOpen && (\n        <ModalBackground>\n          <ModalContainer>\n            <CloseButton onClick={onClose}>&times;</CloseButton>\n            \n            <Tabs>\n              <Tab isActive={activeTab === 'tab1'} onClick={() => setActiveTab('tab1')}>\n                Respuesta r√°pida\n              </Tab>\n              <Tab isActive={activeTab === 'tab2'} onClick={() => setActiveTab('tab2')}>\n                Plantilla\n              </Tab>\n            </Tabs>\n\n            <SearchInput\n              type=\"text\"\n              placeholder=\"Buscar...\"\n              value={searchTerm}\n              onChange={handleSearchChange}\n            />\n\n            {activeTab === 'tab1' ? (\n              <TabContent>\n                <List>\n                  {filteredItems.map((item) => (\n                    <ListItem key={item.id} onClick={() => handleSelectItemQuick(item)}>\n                      <div style={{ display: 'flex' }}>\n                        {item.keyword} {item.isConfirmed ? <>\n                          <Icon id='checkCircle' />\n                        </> : ''}\n                      </div>\n                    </ListItem>\n                  ))}\n                </List>\n              </TabContent>\n            ) : (\n              <TabContent>\n                <List>\n                {filteredItems.map((item) => (\n                  <ListItem key={item.id} onClick={() => handleSelectItemTemplate(item)}>\n                    {item.name} {item.templateType === 'agency' ? '(agencia)' \n                    : (item.templateType === 'cash_on_delivery' ? '(contraentrega)' : '')}\n                  </ListItem>\n                ))}\n                </List>\n              </TabContent>\n            )}\n                \n          </ModalContainer>\n        </ModalBackground>\n      )}\n    </div>\n  );\n};\n\nexport default QuickResponseModal;\n  "
        }
    ]
}