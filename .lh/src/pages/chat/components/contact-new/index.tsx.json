{
    "sourceFile": "src/pages/chat/components/contact-new/index.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1740157412383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740157417705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import { useChatContext } from \"pages/chat/context/chat\";\n import { useEffect, useState } from \"react\";\n-import { useTemplate } from \"../services/template/template.service\";\n+import { useTemplate } from \"../../../../services/template/template.service\";\n import styled from \"styled-components\";\n \n const ModalContactNewBackground = styled.div`\n   position: fixed;\n"
                },
                {
                    "date": 1740157424379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { useChatContext } from \"pages/chat/context/chat\";\n+import { useChatContext } from \"../../../../pages/chat/context/chat\";\n import { useEffect, useState } from \"react\";\n import { useTemplate } from \"../../../../services/template/template.service\";\n import styled from \"styled-components\";\n \n"
                }
            ],
            "date": 1740157412383,
            "name": "Commit-0",
            "content": "import { useChatContext } from \"pages/chat/context/chat\";\nimport { useEffect, useState } from \"react\";\nimport { useTemplate } from \"../services/template/template.service\";\nimport styled from \"styled-components\";\n\nconst ModalContactNewBackground = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999;\n`;\n\nconst ModalContactNewContainer = styled.div`\n  background-color: #fff;\n  border-radius: 8px;\n  width: 500px;\n  max-width: 100%;\n  padding: 20px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  position: relative;\n`;\n\nconst InputField = styled.input`\n  width: 100%;\n  padding: 10px;\n  margin: 10px 0;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 14px;\n  &:focus {\n    border-color: #007BFF;\n    outline: none;\n  }\n`;\n\nconst PhoneInputWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst PhoneInput = styled(InputField)`\n  width: 70%;\n`;\n\nconst CountryCodeSelect = styled.select`\n  width: 25%;\n  padding: 10px;\n  border-radius: 4px;\n  font-size: 14px;\n`;\n\nconst Button = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: #2D2E83;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  margin-top: 10px;\n\n  &:hover {\n    background-color: #3C58A4;\n  }\n`;\n\nconst CloseButton = styled.button`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background-color: transparent;\n  border: none;\n  font-size: 20px;\n  color: #333;\n  cursor: pointer;\n  &:hover {\n    color: #ff5c5c;\n  }\n`;\n\nconst countryCodes = [\n  { code: '+51', country: 'Perú' },\n  { code: '+1', country: 'EE.UU.' },\n  { code: '+34', country: 'España' },\n  { code: '+44', country: 'Reino Unido' },\n  { code: '+49', country: 'Alemania' },\n  { code: '+33', country: 'Francia' },\n  { code: '+91', country: 'India' },\n  { code: '+61', country: 'Australia' },\n  { code: '+55', country: 'Brasil' },\n  { code: '+81', country: 'Japón' },\n  { code: '+7', country: 'Rusia' },\n];\n\nconst ContactNewForm = ({ onClose, isOpen }) => {\n  const [name, setName] = useState('');\n  const [phone, setPhone] = useState('');\n  const [countryCode, setCountryCode] = useState('+51');\n  const { postNewContact, getContactNew } = useTemplate()\n  const { numberSelected } = useChatContext()\n\n  useEffect(() => {\n    setName('')\n    setPhone('')\n    setCountryCode('+51')\n  }, [onClose])\n\n  useEffect(() => {\n    if (getContactNew !== null) {\n      onClose()\n    }\n  }, [getContactNew])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    postNewContact({\n      phoneNumberId: numberSelected,\n      from: `${countryCode}${phone}`.replace('+', ''),\n      name: name\n    })\n\n  };\n\n  const handlePhoneChange = (e) => {\n    const value = e.target.value.replace(/[^0-9]/g, ''); // Elimina todo lo que no sea número\n    setPhone(value);\n  };\n\n  return (\n    <div>\n      {isOpen && (\n        <ModalContactNewBackground>\n          <ModalContactNewContainer>\n\n            <CloseButton onClick={onClose}>&times;</CloseButton>\n\n            <h2>Nuevo contacto</h2>\n            <form onSubmit={handleSubmit}>\n              <InputField\n                type=\"text\"\n                placeholder=\"Nombre\"\n                value={name}\n                required={true}\n                onChange={(e) => setName(e.target.value)}\n              />\n            \n              <PhoneInputWrapper>\n                <CountryCodeSelect\n                  value={countryCode}\n                  onChange={(e) => setCountryCode(e.target.value)}\n                >\n                  {countryCodes.map((country) => (\n                    <option key={country.code} value={country.code}>\n                        {country.code} ({country.country})\n                    </option>\n                  ))}\n                </CountryCodeSelect>\n                <PhoneInput\n                  type=\"tel\"\n                  placeholder=\"Número de teléfono\"\n                  value={phone}\n                  required={true}\n                  onChange={handlePhoneChange}\n                />\n              </PhoneInputWrapper>\n\n              <Button type=\"submit\">Guardar</Button>\n            </form>\n          </ModalContactNewContainer>\n        </ModalContactNewBackground>)}\n    </div>\n  );\n};\n\nexport default ContactNewForm;\n"
        }
    ]
}